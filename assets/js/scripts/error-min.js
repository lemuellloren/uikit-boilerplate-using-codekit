"use strict";!function(i){var t;window.UIkit2&&(t=i(UIkit2)),"function"==typeof define&&define.amd&&define("uikit-slideshow",["uikit"],function(){return t||i(UIkit2)})}(function(i){var t,s=0;i.component("slideshow",{defaults:{animation:"fade",duration:500,height:"auto",start:0,autoplay:!1,autoplayInterval:7e3,videoautoplay:!0,videomute:!0,slices:15,pauseOnHover:!0,kenburns:!1,kenburnsanimations:["uk-animation-middle-left","uk-animation-top-right","uk-animation-bottom-left","uk-animation-top-center","","uk-animation-bottom-right"]},current:!1,interval:null,hovering:!1,boot:function t(){i.ready(function(t){i.$("[data-uk-slideshow]",t).each(function(){var t=i.$(this);t.data("slideshow")||i.slideshow(t,i.Utils.options(t.attr("data-uk-slideshow")))})})},init:function t(){var s=this;this.container=this.element.hasClass("uk-slideshow")?this.element:i.$(this.find(".uk-slideshow:first")),this.current=this.options.start,this.animating=!1,this.fixFullscreen=navigator.userAgent.match(/(iPad|iPhone|iPod)/g)&&this.container.hasClass("uk-slideshow-fullscreen"),this.options.kenburns&&(this.kbanimduration=!0===this.options.kenburns?"15s":this.options.kenburns,String(this.kbanimduration).match(/(ms|s)$/)||(this.kbanimduration+="ms"),"string"==typeof this.options.kenburnsanimations&&(this.options.kenburnsanimations=this.options.kenburnsanimations.split(","))),this.update(),this.on("click.uk.slideshow","[data-uk-slideshow-item]",function(t){t.preventDefault();var e=i.$(this).attr("data-uk-slideshow-item");if(s.current!=e){switch(e){case"next":case"previous":s["next"==e?"next":"previous"]();break;default:s.show(parseInt(e,10))}s.stop()}}),i.$win.on("resize load",i.Utils.debounce(function(){s.resize(),s.fixFullscreen&&(s.container.css("height",window.innerHeight),s.slides.css("height",window.innerHeight))},100)),setTimeout(function(){s.resize()},80),this.options.autoplay&&this.start(),this.options.videoautoplay&&this.slides.eq(this.current).data("media")&&this.playmedia(this.slides.eq(this.current).data("media")),this.options.kenburns&&this.applyKenBurns(this.slides.eq(this.current)),this.container.on({mouseenter:function i(){s.options.pauseOnHover&&(s.hovering=!0)},mouseleave:function i(){s.hovering=!1}}),this.on("swipeRight swipeLeft",function(i){s["swipeLeft"==i.type?"next":"previous"]()}),this.on("display.uk.check",function(){s.element.is(":visible")&&(s.resize(),s.fixFullscreen&&(s.container.css("height",window.innerHeight),s.slides.css("height",window.innerHeight)))}),i.domObserve(this.element,function(i){s.container.children(":not([data-slideshow-slide])").not(".uk-slideshow-ghost").length&&s.update(!0)})},update:function t(e){var a=this,n,o=0;this.slides=this.container.children(),this.slidesCount=this.slides.length,this.slides.eq(this.current).length||(this.current=0),this.slides.each(function(t){var e=i.$(this);if(!e.data("processed")){var r=e.children("img,video,iframe").eq(0),d="html";if(e.data("media",r),e.data("sizer",r),r.length){var u;switch(d=r[0].nodeName.toLowerCase(),r[0].nodeName){case"IMG":var h=i.$('<div class="uk-cover-background uk-position-cover"></div>').css({"background-image":"url("+r.attr("src")+")"});r.attr("width")&&r.attr("height")&&(u=i.$("<canvas></canvas>").attr({width:r.attr("width"),height:r.attr("height")}),r.replaceWith(u),r=u,u=void 0),r.css({width:"100%",height:"auto",opacity:0}),e.prepend(h).data("cover",h);break;case"IFRAME":var c=r[0].src,l="sw-"+ ++s;r.attr("src","").on("load",function(){if((t!==a.current||t==a.current&&!a.options.videoautoplay)&&a.pausemedia(r),a.options.videomute){a.mutemedia(r);var i=setInterval(function(t){return function(){a.mutemedia(r),++t>=4&&clearInterval(i)}}(0),250)}}).data("slideshow",a).attr("data-player-id",l).attr("src",[c,c.indexOf("?")>-1?"&":"?","enablejsapi=1&api=1&player_id="+l].join("")).addClass("uk-position-absolute"),i.support.touch||r.css("pointer-events","none"),u=!0,i.cover&&(i.cover(r),r.attr("data-uk-cover","{}"));break;case"VIDEO":r.addClass("uk-cover-object uk-position-absolute"),u=!0,a.options.videomute&&a.mutemedia(r)}if(u){n=i.$("<canvas></canvas>").attr({width:r[0].width,height:r[0].height});var p=i.$('<img style="width:100%;height:auto;">').attr("src",n[0].toDataURL());e.prepend(p),e.data("sizer",p)}}else e.data("sizer",e);a.hasKenBurns(e)&&e.data("cover").css({"-webkit-animation-duration":a.kbanimduration,"animation-duration":a.kbanimduration}),e.data("processed",++o),e.attr("data-slideshow-slide",d)}}),o&&(this.triggers=this.find("[data-uk-slideshow-item]"),this.slides.attr("aria-hidden","true").removeClass("uk-active").eq(this.current).addClass("uk-active").attr("aria-hidden","false"),this.triggers.filter('[data-uk-slideshow-item="'+this.current+'"]').addClass("uk-active")),e&&o&&this.resize()},resize:function t(){if(!this.container.hasClass("uk-slideshow-fullscreen")){var s=this.options.height;"auto"===this.options.height&&(s=0,this.slides.css("height","").each(function(){s=Math.max(s,i.$(this).height())})),this.container.css("height",s),this.slides.css("height",s)}},show:function s(e,a){if(!this.animating&&this.current!=e){this.animating=!0;var n=this,o=this.slides.eq(this.current),r=this.slides.eq(e),d=a||(this.current<e?1:-1),u=o.data("media"),h=t[this.options.animation]?this.options.animation:"fade",c=r.data("media"),l=function t(){n.animating&&(u&&u.is("video,iframe")&&n.pausemedia(u),c&&c.is("video,iframe")&&n.playmedia(c),r.addClass("uk-active").attr("aria-hidden","false"),o.removeClass("uk-active").attr("aria-hidden","true"),n.animating=!1,n.current=e,i.Utils.checkDisplay(r,'[class*="uk-animation-"]:not(.uk-cover-background.uk-position-cover)'),n.trigger("show.uk.slideshow",[r,o,n]))};n.applyKenBurns(r),i.support.animation||(h="none"),o=i.$(o),r=i.$(r),n.trigger("beforeshow.uk.slideshow",[r,o,n]),t[h].apply(this,[o,r,d]).then(l),n.triggers.removeClass("uk-active"),n.triggers.filter('[data-uk-slideshow-item="'+e+'"]').addClass("uk-active")}},applyKenBurns:function i(t){if(this.hasKenBurns(t)){var s=this.options.kenburnsanimations,e=this.kbindex||0;t.data("cover").attr("class","uk-cover-background uk-position-cover").width(),t.data("cover").addClass(["uk-animation-scale","uk-animation-reverse",s[e].trim()].join(" ")),this.kbindex=s[e+1]?e+1:0}},hasKenBurns:function i(t){return this.options.kenburns&&t.data("cover")},next:function i(){this.show(this.slides[this.current+1]?this.current+1:0,1)},previous:function i(){this.show(this.slides[this.current-1]?this.current-1:this.slides.length-1,-1)},start:function i(){this.stop();var t=this;this.interval=setInterval(function(){t.hovering||t.next()},this.options.autoplayInterval)},stop:function i(){this.interval&&clearInterval(this.interval)},playmedia:function i(t){if(t&&t[0])switch(t[0].nodeName){case"VIDEO":this.options.videomute||(t[0].muted=!1),t[0].play();break;case"IFRAME":this.options.videomute||t[0].contentWindow.postMessage('{ "event": "command", "func": "unmute", "method":"setVolume", "value":1}',"*"),t[0].contentWindow.postMessage('{ "event": "command", "func": "playVideo", "method":"play"}',"*");break}},pausemedia:function i(t){switch(t[0].nodeName){case"VIDEO":t[0].pause();break;case"IFRAME":t[0].contentWindow.postMessage('{ "event": "command", "func": "pauseVideo", "method":"pause"}',"*");break}},mutemedia:function i(t){switch(t[0].nodeName){case"VIDEO":t[0].muted=!0;break;case"IFRAME":t[0].contentWindow.postMessage('{ "event": "command", "func": "mute", "method":"setVolume", "value":0}',"*");break}}}),t={none:function t(){var s=i.$.Deferred();return s.resolve(),s.promise()},scroll:function t(s,e,a){var n=i.$.Deferred();return s.css("animation-duration",this.options.duration+"ms"),e.css("animation-duration",this.options.duration+"ms"),e.css("opacity",1).one(i.support.animation.end,function(){s.css("opacity",0).removeClass(-1==a?"uk-slideshow-scroll-backward-out":"uk-slideshow-scroll-forward-out"),e.removeClass(-1==a?"uk-slideshow-scroll-backward-in":"uk-slideshow-scroll-forward-in"),n.resolve()}.bind(this)),s.addClass(-1==a?"uk-slideshow-scroll-backward-out":"uk-slideshow-scroll-forward-out"),e.addClass(-1==a?"uk-slideshow-scroll-backward-in":"uk-slideshow-scroll-forward-in"),e.width(),n.promise()},swipe:function t(s,e,a){var n=i.$.Deferred();return s.css("animation-duration",this.options.duration+"ms"),e.css("animation-duration",this.options.duration+"ms"),e.css("opacity",1).one(i.support.animation.end,function(){s.css("opacity",0).removeClass(-1===a?"uk-slideshow-swipe-backward-out":"uk-slideshow-swipe-forward-out"),e.removeClass(-1===a?"uk-slideshow-swipe-backward-in":"uk-slideshow-swipe-forward-in"),n.resolve()}.bind(this)),s.addClass(-1==a?"uk-slideshow-swipe-backward-out":"uk-slideshow-swipe-forward-out"),e.addClass(-1==a?"uk-slideshow-swipe-backward-in":"uk-slideshow-swipe-forward-in"),e.width(),n.promise()},scale:function t(s,e,a){var n=i.$.Deferred();return s.css("animation-duration",this.options.duration+"ms"),e.css("animation-duration",this.options.duration+"ms"),e.css("opacity",1),s.one(i.support.animation.end,function(){s.css("opacity",0).removeClass("uk-slideshow-scale-out"),n.resolve()}.bind(this)),s.addClass("uk-slideshow-scale-out"),s.width(),n.promise()},fade:function t(s,e,a){var n=i.$.Deferred();return s.css("animation-duration",this.options.duration+"ms"),e.css("animation-duration",this.options.duration+"ms"),e.css("opacity",1),e.data("cover")||e.data("placeholder")||e.css("opacity",1).one(i.support.animation.end,function(){e.removeClass("uk-slideshow-fade-in")}).addClass("uk-slideshow-fade-in"),s.one(i.support.animation.end,function(){s.css("opacity",0).removeClass("uk-slideshow-fade-out"),n.resolve()}.bind(this)),s.addClass("uk-slideshow-fade-out"),s.width(),n.promise()}},i.slideshow.animations=t,window.addEventListener("message",function t(s){var e=s.data,a;if("string"==typeof e)try{e=JSON.parse(e)}catch(i){e={}}s.origin&&s.origin.indexOf("vimeo")>-1&&"ready"==e.event&&e.player_id&&(a=i.$('[data-player-id="'+e.player_id+'"]'),a.length&&a.data("slideshow").mutemedia(a))},!1)}),$(function(){}),document.addEventListener("DOMContentLoaded",function(){});
//# sourceMappingURL=./error-min.js.map